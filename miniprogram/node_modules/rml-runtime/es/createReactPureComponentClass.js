import React from 'react';
var PureComponent = React.PureComponent;

var version = parseInt(React.version, 10);

export default function (name, elementFactory) {
  function RMLTemplate() {
    PureComponent.apply(this, arguments);
  }

  RMLTemplate.displayName = name;
  var proto = RMLTemplate.prototype = Object.create(PureComponent.prototype);
  proto.render = function render() {
    var children = elementFactory.call(this.props.children, this.props);
    if (version < 16 && React.Children.count(children) > 1) {
      throw new Error('template ' + name + ' can only has one render child!');
    }
    return children;
  };
  return RMLTemplate;
}