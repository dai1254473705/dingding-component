"use strict";

Component({
  mixins: [],
  data: {
    $uiName: 'switch',
    _checked: false
  },
  props: {
    className: '',
    checked: false,
    disabled: false,
    dmData: {},
    isControlled: false,
    onDmChange: function onDmChange() {}
  },
  didMount: function didMount() {
    this.setData({
      _checked: this.props.checked
    });
  },
  didUpdate: function didUpdate(prevProps, prevData) {
    if (prevProps.checked != this.props.checked && this.props.checked != this.data._checked) {
      this.setData({
        _checked: this.props.checked
      });
    }
  },
  didUnmount: function didUnmount() {},
  methods: {
    onDmTap: function onDmTap(e) {
      var _this$props = this.props,
          disabled = _this$props.disabled,
          isControlled = _this$props.isControlled;

      if (disabled) {
        return;
      }

      var checked = this.data._checked;

      if (!isControlled) {
        checked = !checked;
        this.setData({
          _checked: checked
        });
      }

      this.props.onDmChange({
        checked: checked,
        dmData: this.props.dmData
      });
    }
  }
});